#!/usr/bin/env bash

function is-btrfs() (
	source "$DOROTHY/sources/strict.bash"

	local path
	path="$(
		ask --required \
			--question="Enter the path to test if it is a BTRFS mount." \
			--default="${1-}"
	)"

	command-exists btrfs
	test -n "${1-}"
	mount | grep "on $path type btrfs"
)

# fire if invoked standalone
if test "$0" = "${BASH_SOURCE[0]}"; then
	is-btrfs "$@"
fi
