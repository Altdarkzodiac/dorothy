#!/usr/bin/env bash
source "$DOROTHY/sources/strict.bash"

function setup-util-drive-info() (
	# https://ostechnix.com/how-to-find-hard-disk-drive-details-in-linux/
	setup-util "$@" NAME='S.M.A.R.T. Monitoring Tools' CLI=smartctl \
		APT='smartmontools' \
		BREW='smartmontools'

	# https://linux.die.net/man/8/sdparm
	if is-linux; then
		setup-util "$@" --optional --quiet CLI=sdparm \
			APT='sdparm'

		setup-util "$@" --optional --quiet CLI=hdparm \
			APT='hdparm' \
			DNF='hdparm' \
			PACMAN='hdparm' \
			ZYPPER='hdparm'

		setup-util "$@" --optional --quiet CLI=lshw \
			APT='lshw' \
			DNF='lshw' \
			PACMAN='lshw' \
			ZYPPER='lshw'
	fi
)

# fire if invoked standalone
if test "$0" = "${BASH_SOURCE[0]}"; then
	setup-util-drive-info "$@"
fi
