#!/usr/bin/env bash
source "$DOROTHY/sources/strict.bash"

# https://github.com/neovim/neovim/wiki/Installing-Neovim
# https://github.com/neovim/neovim/releases
# yum install is undocumented but works

# nvim-linux64.tar.gz
# nvim-linux64.tar.gz.sha256sum
# nvim-macos.tar.gz
# nvim-macos.tar.gz.sha256sum

function setup-util-neovim() (
	# github is not an option for neovim
	# as it needs extraction and installation of {bin,libs,lib,share} etc.
	# which is not currently supported
	setup-util "$@" NAME='Neovim' CLI='nvim' \
		APK='neovim' \
		APT='neovim' \
		AUR='neovim-git' \
		BREW='neovim' \
		CHOCO='neovim' \
		CLI='nvim' \
		DNS='neovim' \
		GUIX='neovim' \
		NIX='nixpkgs.neovim' \
		PACMAN='neovim' \
		PORT='neovim' \
		SCOOP='neovim' \
		YUM='neovim' \
		ZYPPER='neovim'

	# all extras should be optional and below
	setup-util "$@" --optional NAME='Neovim Node.js Support' NPM='neovim'
	setup-util "$@" --optional NAME='Neovim Ruby Support' GEM='neovim'
	setup-util "$@" --optional NAME='Neovim Python Support' PIP='neovim'
)

# fire if invoked standalone
if test "$0" = "${BASH_SOURCE[0]}"; then
	setup-util-neovim "$@"
fi
