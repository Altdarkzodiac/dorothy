#!/usr/bin/env bash

# https://github.com/azlux/log2ram

function setup-util-log2ram() (
	source "$DOROTHY/sources/strict.bash"

	# install
	# official docs has two issues (bullseye instead of main, and http instead https)
	setup-util "$@" --cli='log2ram' \
		APT_KEY='https://azlux.fr/repo.gpg' \
		APT_REPO='deb [arch={ARCH} signed-by={KEY}] https://packages.azlux.fr/debian/ stable main' \
		APT='log2ram'

	# sudo vim /etc/systemd/journald.conf
	# SystemMaxUse=20M

	# sudo vim /etc/log2ram.conf
	# MAIL=false

	# sudo reboot
)

# fire if invoked standalone
if test "$0" = "${BASH_SOURCE[0]}"; then
	setup-util-log2ram "$@"
fi
