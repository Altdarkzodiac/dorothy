name: dorothy
"on":
  - push
  - pull_request
jobs:
  test:
    strategy:
      matrix:
        os:
          - ubuntu-latest
          - macos-latest
    runs-on: ${{ matrix.os }}
    steps:
      - name: "Checkout"
        uses: actions/checkout@v2
      - name: "Configure"
        shell: 'script -q -e -c "bash {0}"'
        run: |
          chmod +x ./commands/*
          ./commands/dorothy trial -- env | sort
          echo "BASH_VERSION: $BASH_VERSION"
      - name: "Test"
        shell: 'script -q -e -c "bash {0}"'
        run: ./commands/dorothy test
